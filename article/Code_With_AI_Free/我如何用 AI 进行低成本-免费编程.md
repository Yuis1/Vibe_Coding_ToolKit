# 我如何用 AI 进行低成本 / 免费编程

译文地址：[我如何用 AI 进行低成本 / 免费编程](https://mp.weixin.qq.com/s/wjCNjvHxt3LAyMpFdH15Xw)

原文地址：[How I Code with AI on a budget/free](https://wuu73.org/blog/aiguide1.html)

原文更新时间：2025.07

## TLDR: 快速上手指南

*   **模型与分工:**
    
*   **规划与头脑风暴:** GLM 4.5、Kimi K2、最新的 Qwen3 Coder 和 2507 系列、Gemini 2.5 Pro (AI Studio)、o4-mini (OpenRouter)、Claude 3.7 或 4 (Poe)。如果你配置了 OpenAI Playground 每日 25 万的免费 token，我建议用 o3 和 GPT 5 把额度用完。
    
*   **解决问题与调试:** GPT-5 (Playground 的免费 token)、GLM-4.5 (它简直是个天才，差不多是 Claude 4 的水平)、Claude 4 (Poe 每日免费)。
    
*   **实际编码:** 通过 Cline 使用 GPT-4.1；备选方案是 Claude 3.5... 或者一些新模型：Qwen3 Coder、Qwen3 Instruct 2507、GLM 4.5、Kimi K2。
    

*   **关键工具:**
    
*   VS Code
    
*   AI Code Prep GUI[2] – 在本地扫描和筛选你需要的文件，能节省大量时间。
    
*   Cline (VS Code agent) – 用于分步执行代码。
    
*   免费的网页聊天工具（用于获取多角度建议）: Poe.com、ChatGPT、Grok、Deepseek、Perplexity、OpenAI Playground、带有 Gemini 2.5 Pro 的 AI Studio、Openrouter、duck.ai。
    

*   **简易工作流:**
    

1.  如果项目已存在，运行 AI Code Prep GUI 来打包项目中的相关文件。
2.  将这些上下文粘贴到你喜欢的网页聊天模型中，进行规划和调试。
3.  让其中一个模型 “为这些任务写一个详细的 Cline prompt”，然后（比如在 ChatGPT 中）优化它。
4.  将优化后的 prompt 复制 / 粘贴到设置为 GPT-4.1 的 Cline 中，让它生成或修复代码；如果卡住了，就切换到 Claude 3.5。
    
*   **省钱小技巧:**
    
*   在 OpenAI Playground 中启用 “数据共享”，每天可获得 25 万免费的 GPT-4.5、o3 (这两个都是天才级但昂贵的模型) token，以及 250 万免费的 o4-mini、o3-mini token！！
    
*   每月 10 美元的 GitHub Copilot 订阅，能让你通过 Cline 有限制地访问 Claude 模型。
    
*   在 OpenRouter 上按量付费使用 o4-mini、Claude 3.7 和其他新模型。
    

我的浏览器配置：免费的 AI 自助餐
----------------------------------------

首先，我的浏览器里会常备一系列指向强大 AI 模型免费版的标签页。既然可以免费获得多种视角，何必只用一个呢？我的常用组合包括：

*   至少 2-3 个 智谱清言 GLM 4.5 的标签页 – 网页免费，感觉和 Claude 4 不相上下甚至更好！不开玩笑。
    
*   1 到 2 个 Kimi K2 的标签页... 另一个类似 Claude 或 Opus 的模型，网站上免费使用。在 GLM 表现得似乎更强之前，Kimi 每天都能帮我修复好几个棘手的 bug。
    
*   在 chat.qwen.ai 上使用 Qwen3 Coder 和其他新模型。
    
*   至少一个 OpenAI Playground 的标签页。如果你在账户的数据设置中允许 OpenAI 使用你的数据来训练模型，你就能获得免费的 token 来使用 GPT-4.5、o3 等模型。
    
*   至少一个，但通常是三个 Google Gemini AI Studio 的标签页 (Gemini 2.5 Pro/Flash 在这里通常是免费且无限制的)。 另外，也试试 Google Gemini 2.5 Pro (它和 AI Studio 不同，有更强的图像生成和深度研究能力；我通常会开几个这个的标签页，同时再开几个 AI Studio 的)。
    
*   几个 Poe.com 的标签页，通常设置为 Claude 4 或 o4-mini，利用它每天为高级模型提供的免费点数。
    
*   几个 OpenRouter 的标签页，设置成不同的模型，有些免费，有些付费。
    
*   至少一个 ChatGPT 的标签页 (免费版依然很有用)。
    
*   至少一个 Perplexity AI 的标签页，尤其适合需要大量研究的问题。
    
*   至少一个 Deepseek 的标签页 (v3 和 r1 在它们的网页界面是免费的，但要注意上下文长度限制)。
    
*   一个 Grok.com 的标签页。很好用，免费，而且常规使用和深度研究 / 图像编辑似乎没有限制。我主要用它的深度研究功能，和 Perplexity 类似。
    
*   Phind 是另一个免费工具，它会尝试用流程图 / 图表来展示结果。
    
*   lmarena.ai 提供免费的 Claude Opus 4、Sonnet 4 等模型的访问。免费的 Opus 4 非常棒。
    

> Claude.ai - 免费，但有时限制太多，用起来很烦人，所以我通常通过其他网站 / 方式来访问 Claude，比如 Cody 插件、Copilot 等。


## 一个更智能、更便宜的工作流：聚焦上下文
当你在网页聊天（比如 AI Studio、ChatGPT、Openrouter 这些聊天界面，而不是通过 IDE 或 agent 框架）中使用 AI 时，它们在解决问题和提出方案方面几乎总是比 Cline、Trae、Copilot 这类 agent 表现得更好。不总是，但通常是这样。

当你把所有事情都交给 Cursor、Cline、Roo Code 这类工具时，它们会向 AI 发送大量关于如何使用它们工具、如何激活 MCP 服务器、如何编辑文件等的文本，这会过度 “拉低 AI 的智商”，让它变得困惑。人们最终不得不花钱购买最昂贵、最顶级的模型来做所有事，但即便如此，也无法克服因 AI 收到大量与问题无关信息而导致的“变笨” 效应。

所以当这种情况发生时，我会用我的工具来生成解决问题所需的确切上下文，然后把它粘贴到一个（或多个，因为它们有时会给出不同答案）AI 网页聊天中，直接提问，或者让它做代码审查，试图找出为什么在 y 发生时 x 会出现…… 等等。当它找到解决方案后，我再让它为 Cline 或其他 agent 类型的工具编写一个 prompt，来执行实际的文件编辑。GPT 4.1 完全能处理这个，而且我的用量是无限的。没必要浪费 Claude 的额度去编辑文件，也没必要给 Claude 发送一堆它不需要的垃圾信息让它变笨。我可以用 Openrouter 的网页聊天，以低廉的成本让 Claude 规划任何事情或修复非常棘手的问题，然后把结果粘贴回 Cline 让它执行就可以了。

这样操作一段时间后，你真的会对哪个模型擅长哪类任务有非常直观的感受。

**AI Code Prep 如何提供帮助 (示例 Prompt 结构):**

> _你能帮我搞清楚为什么我的程序出现了 x 而不是 y 吗？_
> 
> 然后，AI Code Prep GUI (支持 Windows、Mac、Linux 和网页版) 就派上用场了。它会递归扫描你的项目文件夹（包括子文件夹、子子文件夹等等），抓取代码，并为 AI 整理成如下格式：
> 
> AI Code Prep 生成的上下文块看起来是这样的：
> 
> 你能帮我搞清楚为什么我的程序出现了 x 而不是 y 吗？
> 
> fileName.js:  
> <code>  
> ... 文件内容 ...
> 
> </code>
> 
> nextFile.py:  
> <code>  
> 内容... 等等 ...
> 
> </code>
> 
> 你能帮我搞清楚为什么我的程序出现了 x 而不是 y 吗？

如果你启用了某个选项，它会把你的问题写两次，这有助于让 AI 更好地专注于你的问题 / prompt。你可以选择把问题放在顶部、底部，或者两端都放。OpenAI 声称这有帮助，我没怎么测试过这是否属实，但听起来合乎逻辑。

在 Windows 上，你只需在项目文件夹内（或文件夹本身）的任意位置右键单击，然后从上下文菜单中选择 “AI Code Prep GUI”（可以看看网站上的截图）。一个 GUI 窗口会弹出，通常已经预选了正确的代码文件。它会智能地尝试跳过你可能不需要的东西，比如 `node_modules`、`.git` 等。如果它的猜测不完美，你可以轻松地勾选或取消勾选文件。

当你的项目非常庞大，超出了 AI 的上下文窗口限制时，这个功能超级有用。你可以手动筛选出 AI 需要看到的确切内容。

许多编码 agent，如 Cline、Github Copilot、Cursor、Windsurf 等，问题在于它们要么发送了太多上下文，要么发送得太少。这就是为什么它们有时看起来很笨或效率低下的原因。有时候，你必须亲自动手，用像我这样的工具自己选择文件，但它能帮你自动选择代码文件，同时跳过你可能不需要的东西（但仍然可以通过复选框添加你想要的内容），然后把这些精选的上下文扔给几个 AI（尤其是那些免费的网页版！）。

当然，也有其他生成上下文的工具，但许多都只有命令行，或者需要一个公开的 GitHub 仓库链接。如果你的代码是私有的怎么办？如果你想让它保持在本地怎么办？如果你更喜欢在 GUI 上用复选框操作呢？对于这样的任务，GUI 显然更合理。

## 模型策略：为不同任务选择合适的 “大脑”
由于许多优秀的模型都可以通过网页界面免费使用（比如 AI Studio 里的 Gemini、Grok、Deepseek），我优先使用这些。Poe.com 每天也为像 Claude 和新的 o4 系列这样的顶级模型提供免费额度。

**Gemini 2.5 Pro** (通过 AI Studio) 非常适合调试和规划，而且我发现它现在在很多方面都是最棒的。对于特别棘手的问题，我可能会试试新的 **o4-mini** (可通过 OpenRouter 或 Poe 使用)。它出人意料地立刻修复了一个困扰我很久的 bug，不过我仍在摸索它的最佳用途。值得注意的是，通过 API 使用它比之前像 Claude 3.5/3.7/4 这样的顶级模型要便宜得多。

我通常会在某个时候尝试 **Claude 3.7 或 4**，通过 Poe 或 API (OpenRouter 让这变得很容易)，或者 Github Copilot chat (如果你不付费，也能从中获得一些免费使用次数)，但频繁使用的话价格较贵。可以把 Claude 3.7 和 4 想象成磕了聪明药的 Claude——才华横溢，有时话多，可能有点像亨特 · 斯托克顿 · 汤普森那样 “疯狂”。它能产出大量精彩内容，但你可能需要一个更冷静的模型，比如 **Claude 3.5**，来对结果进行提炼或完成实际的编码工作。

对于非常困难的问题，可以试试 OpenAI 的 o3 或者 GLM 4.5、Qwen3 Coder 480b。如果你设置账户允许共享数据以帮助训练模型，每天可以获得大量免费 token。进入 Open AI Playground 页面，点击右上角的设置图标，然后点击左侧边栏的 Data Controls，接着点击显示的页面上的 Sharing，在那里你可以将 "Share inputs and outputs with OpenAI" 设置为 Enabled，这样你将获得：

*   每天最多 25 万 token，可用于 gpt-5、gpt-4.1、gpt-4o、o1 和 o3。
*   每天最多 250 万 token，可用于 gpt-4.1-mini、gpt-4.1-nano、gpt-4o-mini、o1-mini、o3-mini、o4-mini 和 codex-mini-latest。
    
这真的很棒，o3 和 GPT 4.5 看起来超级聪明！有时在 OpenAI Playground 里，我会设置 o3 和 o4-mini 并排使用，以便比较它们。这能帮助我更好地感受哪个模型最适合哪类问题。

**Claude 4 和 3.7** 永远是快速解决难题的好选择，只是很难以便宜或免费的方式用到它。但它常常是所有模型中最好的。当你真的需要快速修复问题时，就用它吧。Poe 每天为所有模型提供免费 token。OpenRouter 则提供所有模型的付费和 / 或免费使用。

## 混合方法：用高级模型规划 + 用平价模型执行

在对各种模型进行大量测试后，我总结出了一套混合策略，可以最大限度地兼顾质量和成本效益。关键在于，不同的模型在开发过程的不同阶段各有专长。

> **我的 “智能果汁” 理论 - 模型在特定情况下如何变笨**

通常情况下，你发送给 AI 模型的文本越少，它就越聪明。可以把每个模型想象成对你提出的每个问题或难题都有一份固定的 “智能” 或“智能果汁”。当你发送一个简单、集中的 prompt 时，几乎 100% 的智能都可用于解决你的问题。但是，当你的输入变得复杂——比如冗长的关于如何使用工具的 agent 指令、大量与你特定问题无关的上下文、或者多页代码——那么大部分 “智能果汁” 就会被用来处理这些无关紧要的东西，比如它如何在你的 IDE 中使用工具，从而留给解决你实际问题的智能能量就变少了。

这就是为什么像 Cursor、Cline 和其他 agent 系统有时看起来效果不佳的原因：如果它们在触及你的真正问题之前，就发送了五大页的指令和上下文，那么模型用于解决你特定问题的可用智能就会下降。你发送的 “东西” 越多，模型的注意力就越分散。为了获得最佳效果，让你的 prompt 尽可能简洁和有针对性——精心筛选上下文，这样模型就可以将其全部智能用于最重要的事情上。

当遇到难题或 bug 时，使用 AI Code Prep 将其导入网页聊天通常会节省时间（正如本指南前面所讨论的）。它剔除了在 agent 式 IDE / 应用中发送的所有额外指令和内容。我注意到，即使你把项目中的所有文件都提供给 AI，这种方法也更有效。那些与你实际问题无关的 agent 指令 / 内容 / 冗余信息，似乎是让 AI 变笨 / 耗尽 “智能果汁” 的罪魁祸首。

**我开始一个新项目时的工作流大致如下：**

1.  **规划与头脑风暴:** 使用更智能 / 免费的网页模型（Gemini 2.5、o4-mini、Claude 3.7、4、o3 等）来确定方法、规划步骤、选择库等。
    
2.  **生成 Agent Prompt:** 问这些智能模型中的一个：“为我的 AI 编码 agent Cline 写一个足够详细的 prompt，以完成以下任务：`[描述任务]`”。有时，我会把这个生成的 prompt 复制粘贴到另一个擅长重写的免费 AI（比如 ChatGPT）中进行进一步优化。
    
3.  **用 Cline 执行:** 将这个分步任务列表粘贴到 Cline 中，并将其配置为使用一个稳定高效的模型，如 **GPT 4.1 或 Claude 3.5**（如果任务非常复杂，则使用 Claude 4）。4.1 系列的模型经过训练，非常擅长遵循指令。
    
4.  **备用方案:** 如果 GPT 4.1 搞不定，就把 Cline 切换到通过 API 使用 **Claude 3.5**。它似乎是执行任务方面第二可靠的选择。Deepseek v3 或 R1 在遵循指令方面也非常出色。
    

本质上就是：用昂贵 / 智能的模型（以及优秀的免费版 Gemini 2.5 Pro）来制定策略和规划。通过将计划粘贴到 2-3 个其他免费模型中（Deepseek R1，如果上下文允许的话，也可以用 Poe 上的 Claude）进行验证，问它们 “这个计划好吗？你能改进它或找出其中的缺陷吗？”。然后，在 Cline 中使用像 GPT 4.1 或 Claude 3.5 这样的稳定主力来完成繁重的（编码）工作。

**o4-mini** 似乎特别擅长理清复杂的代码逻辑或制定高层级的实施策略（比如选择框架或库）。我经常会把我的初步想法扔给 Gemini 2.5、o4-mini、GPT 4.1、ChatGPT，可能还有 o3-mini（可以试试 duck.ai - 通常免费），以及 Phind，以获得一系列的想法。如果免费 / 便宜的选项解决不了，我就会升级到通过 API 使用更昂贵的模型。

## 其他可选的 Agent 和配置

Trae.ai (来自字节跳动，也就是 TikTok 的母公司) 是一个免费的、兼容 VS Code 的 IDE，提供免费的 AI 使用，包括 Claude 4、Claude 3.7、Claude 3.5 和 GPT 4.1。它们的 agent 不如 Cline 好用（说实话，没什么比得上 Cline！），但它是免费的，并且能让你用上最好的模型。有时，我发现它内置的 agent 不如 Cline 强大。然而，由于 Trae 似乎是 VS Code 的一个克隆，你很可能可以在其中安装 Cline 插件！但是... 它现在因为用户太多而过载，几乎无法获得任何免费使用，速度太慢了。我还是提一下... 但也就那样吧。

所以，你可以有两种配置：

*   VS Code + Cline 插件 + Copilot 插件（订阅每月 10 美元的套餐，通过 Cline 获得廉价的 API 访问，不过免费版可能也提供一些基本功能）。
    
*   Trae.ai + Cline 插件（如果 Cline 能利用 Trae 的免费模型访问权限，那就能使用，否则就用你自己的 API 密钥）。
    

两种都试试！有时原生的 Copilot agent 能解决 Cline 搞不定的问题，反之亦然。我怀疑 Cline 有时发送的 prompt 过大，这可能在处理某些任务时，相比于集成度更高的 Copilot agent 会影响性能。

### Roo Code: Cline 的克隆版

Roo Code 是 Cline 的一个克隆，非常相似，但有一些不同的功能值得一试。有时 Cline 可能更适合你的工作流程，有时 Roo Code 会更胜一筹。最好两个都试试，看看哪个更适合你特定项目或编码风格的需求。

用于 VS Code 的 Cline 是免费的，但请记住，除非你利用 Copilot 订阅的技巧，否则 API 调用是需要付费的。目前，在 Cline 中使用 VS Code LM API 设置，并配合每月 10 美元的 Copilot 订阅，是在 agent 中以最经济的方式获得强大模型近乎无限访问权限的方法。

### 新的命令行工具：Claude Code、Qwen Code、Gemini CLI

最近关于编码的新的命令行工具讨论很多，特别是 **Claude Code**、**Qwen Code** 和 **Gemini CLI**。人们对 Claude Code 的能力赞不绝口，虽然我自己还没试过。当我尝试时，我计划将其设置为使用 **GLM 4.5**（z.ai 网站上有相关的指南）。

Claude Code 支持子代理（subagents）——这些代理只执行单一任务，不使用额外的工具。这种设置可以模仿本指南中描述的简化工作流，将模型的智能集中于单一任务。子代理是避免 agent 指令 “臃肿” 并保持效率的聪明方法。

如果你想进行实验，可以查看配置这些工具的指南和社区技巧。这个生态系统正在迅速发展，每种工具在不同的工作流程中都有其独特的优势。

## 一些思考
AI 是一个令人难以置信的效率倍增器，但它不是魔杖。真正的魔力发生在你将自己的好奇心、毅力和实验意愿与这些强大的工具相结合时。不要因为 bug 或挫折而灰心——每一个挑战都是学习新东西的机会。混合搭配不同的模型，尝试疯狂的想法，不要害怕打破常规然后重建。最优秀的程序员不是那些从不碰壁的人，而是那些不断前进、利用手头一切工具和技巧的人。拥抱混乱，享受过程，让你的创造力引领方向！

### 参考资料

[1] 原文: https://wuu73.org/blog/aiguide1.html

[2] AI Code Prep GUI: https://wuu73.org/aicp